# Configuração para resolver problemas de MIME type
<IfModule mod_mime.c>
    AddType application/javascript .js
    AddType application/javascript .mjs
    AddType text/css .css
    AddType application/json .json
    AddType application/manifest+json .webmanifest
    AddType image/webp .webp
    AddType image/avif .avif
    AddType font/woff .woff
    AddType font/woff2 .woff2
</IfModule>

# Headers para módulos ES
<IfModule mod_headers.c>
    <FilesMatch "\.(js|mjs)$">
        Header set Content-Type "application/javascript; charset=utf-8"
    </FilesMatch>
    <FilesMatch "\.json$">
        Header set Content-Type "application/json; charset=utf-8"
    </FilesMatch>
</IfModule>

# Configuração para PWA
<Files "manifest.json">
    Header set Content-Type "application/manifest+json; charset=utf-8"
</Files>

# Configuração para SPA (Single Page Application)
# Redireciona todas as rotas para index.html para que o React Router funcione
<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Handle Angular and React Router
    # Se o arquivo ou diretório não existir, redireciona para index.html
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_URI} !\.[^./]+$ [NC]
    RewriteRule . /index.html [L]
    
    # Força HTTPS (opcional)
    # RewriteCond %{HTTPS} off
    # RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
</IfModule>